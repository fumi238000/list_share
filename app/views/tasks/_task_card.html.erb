<div data-controller="drag" data-drag-url="/tasks/id/move">
  <% @tasks.each do |task| %>
      <%# TODO: リファタリングする(必要であれば、includeで実装すること)ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー%>
      <% @categories.each do |category| %>
      <%# TODO: リファタリングするーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー%>
        <% if task.category_id == category.id%>
          <div data-id="<%= task.id%>" v-if="isActive === '<%= task.category_id %>'">
             
              <section class="card__drag">
                <div class="card__content">
                  <div class="card__left__content">
                    <%# TODO: リファタリングするーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー%>
                    <%# チェックボックス %>
                    <span id="taks-<%= task.id%>" class="checkbox">
                      <% if @checked_task_ids.include?(task.id) %>
                        <%= render "offcheck", task_id: task %>
                      <% else %>
                        <%= render "oncheck", task_id: task %>
                      <% end %>
                    </span>
                    <%# TODO: リファタリングするーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー%>
                    <%# グリッド%>
                    <span class="grid"><i class="grid fas fa-grip-lines-vertical"></i></span>
                    <%# タスク名 %>
                    <span class="name"><%= task.name %></span>
                  </div>

                  <div class="card__right__content">
                    <%# 編集ボタン %>
                    <span>
                      <%= link_to edit_task_path(task),class: "edit" do %><i class="fas fa-pen"></i><% end %>
                    </span>
                    <%# コメント一覧へリンク %>
                    <span class="comment">
                      <%= link_to  task_path(task), class: "comment" do %><i class="far fa-comments"></i><% end %>
                    </span>
                  </div>
                
                </div>
              </section>
            </div>
         <% end %>
      <% end %>
    <% end %>
  </div>
